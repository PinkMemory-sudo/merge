# **准备模板虚拟机**



设置静态IP

VMNet8中的子网IP和网关



修改主机名

```
vim /etc/hostname
```

修改hosts

```
vim /etc/hosts
```

给账户添加root权限(可以使用sudo命令)

```
vim /etc/sudoers
```

 在%wheel 这行下面添加一行 

```
pk ALL=(ALL) NOPASSWD:ALL
```

关闭防火墙

在企业开发时，通常单个服务器的防火墙时关闭的。公司整体对外会设置非常安 全的防火墙 

**卸载自带的JDK**

```
rpm -qa | grep -i java | xargs -n1 | rpm -e --nodeps
```

配置Hadoop环境变量

```
HADOOP_HOME
HADOOP/bin
HADOOP/sbin
```

**Hadoop目录**

shard  官方案例



# 完全分布式的搭建



NameServer和NN2不能配置在一台服务器上



**配置文件说明**

两类：默认配置文件，自定义配置文件



**core-site.xml**



**hdfs-site.xml**



**yarn-site.xml**



**mapred-site.xml**



**配置workers**

默认localhost



第一次启动需要格式NameNode

格式化完成后多出data和log目录



启动HDFS



启动ResourceManager







sheffle



克隆

集群配置