 **为什么使用消息队列**

 你们公司有个什么业务场景，这个业务场景有个什么技术挑战，如果不用MQ可能会很麻烦，但是你现在用了MQ之后带给了你很多的好处 。



**MQ的优点与缺点**

优点：异步处理，应用解耦，削峰

缺点：

* 可用性降低：考虑MQ宕机的情况

* 复杂性提高：要考虑MQ的消息丢失与重复消费等问题
* 一致性问题：



**MQ对比**

1. 使用场景：Kafka适合日志处理；RocketMQ适合业务处理
2. 性能：Kafka吞吐量更高，单机百万/秒；RocketMQ单机10万/秒， Kafka一个topic有很多partition，代表很多目录，每个目录下有很多segment，每个代表一个消息文件，而RocketMQ存储消息只有commitLog文件 
3.  Kafka不支持定时，事务消息等
4.  Kafka超过64个队列（partition）性能下降严重，而RocketMQ最高支持5万个队列   



**MQ的协议**

JMS：Java消息服务。它便于消息系统中的Java应用程序进行消息交换，并且通过提供标准的产生、发送、接收消息的接口，简化企业应用的开发。ActiveMQ是该协议的典型实现。

 AMQP： 应用 层标准。。 RabbitMQ是该协议的典型实现。



**RocketMQ怎么使用顺序消息**



**怎么保证消息不丢失**

1. 消费者保证投递发送成功



**RocketMQ怎么避免消息重复消费**

消息重复消费的原因，如何做幂等



**怎么避免重复投递**



**消息积压怎么办**



**消息是如何发送的**



**消费者如何接收消息**



**消息怎么过滤**



**消息基于什么传输的**



**如何确保消息被接受了**



**消息补偿机制是什么**



**怎么设计一个MQ**

1. 可伸缩
2. 持久化
3. 高可用



**死信队列的原因，使用**



**延迟队列的使用**



**优先级队列**



**事务消息**



**消费者因某些原因无法解决的消息怎么办**